{"version":3,"sources":["assets/images/preloader.gif","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/Message/Message.module.css","components/Navbar/Navbar.module.css","components/common/FormsControls/FormsControl.module.css","components/Navbar/Navbar.jsx","components/common/Preloader.jsx","components/Profile/ProfileInfo/ProfileStatusWithHook.jsx","components/common/FormsControls/FormsControl.js","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","utils/validators/validator.js","components/Profile/MyPosts/MyPosts.jsx","api/api.js","redux/profileReducer.js","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","redux/messageReducer.js","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/hoc/AuthRedirect.js","components/Dialogs/DialogsContainer.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/common/Paginator/Pagination.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/usersReducer.js","redux/usersSelectors.js","components/Users/UsersContainer.js","components/Header/Header.jsx","redux/authReducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/appReducer.js","redux/reduxStore.js","App.js","index.js","components/Profile/ProfileInfo/ProfileInfo.module.css","assets/images/profile.jpg","components/Profile/MyPosts/MyPosts.module.css","components/Dialogs/Dialogs.module.css","components/common/Paginator/Pagination.module.css","components/Users/users.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Header/Header.module.css"],"names":["module","exports","Navbar","className","c","nav","item","active","to","activeClassName","activeLink","Preloader","src","preloader","style","width","ProfileStatusWithHook","props","useState","editMode","setEditMode","state","status","setStatus","useEffect","onClick","onBlur","updateStatus","autoFocus","onChange","e","currentTarget","value","Textarea","input","meta","hasError","touched","error","s","formControl","Input","createField","placeholder","name","validators","component","text","Field","validate","ProfileDataFormRedux","reduxForm","form","handleSubmit","profile","onSubmit","formSummaryError","type","aboutMe","Object","keys","contacts","map","key","a","contact","ProfileData","isOwner","goToEditMode","description","fullName","lookingForAJob","lookingForAJobDescription","contactTitle","contactValue","button","Contact","ProfileInfo","savePhoto","saveProfile","content","profileImage","photos","large","userPhoto","target","files","length","initialValues","formData","then","Post","message","span","likesCount","required","maxLengthCreator","maxLength","MyPosts","React","memo","postsElements","postData","p","id","maxLenght","PostReduxForm","myPosts","postArea","addClick","newPostText","posts","instance","axios","withCredentials","baseURL","headers","userAPI","currentPage","pageSize","get","response","data","userId","delete","post","profileAPI","getProfile","getStatus","put","photoFile","FormData","append","authAPI","email","password","rememberMe","captcha","securityAPI","initialState","getUserProfile","dispatch","profileReducer","action","newPost","MyPostsContainer","connect","profilePage","addPostActionCreator","Profile","store","ProfileContainer","this","match","params","authUserId","history","push","refreshProfile","prevProps","prevState","Component","compose","auth","isAuth","resultCode","file","getState","stopSubmit","_error","messages","Promise","reject","withRouter","dialogsData","messagesData","messageReducer","newMessageBody","newMessageText","DialogItem","d","dialog","Message","Dialogs","messagesPage","dialogsElements","messagesElements","m","maxLength30","MessageReduxForm","dialogs","dialogsItems","values","onMessageAddClick","mapStateToPropsRedirect","addMessageActionCreator","RedirectComponent","News","Music","Settings","Pagination","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pagination","filter","cn","selectedPage","pageNumber","User","user","followingInProgress","unfollow","follow","small","followed","disabled","some","nameStatus","Users","totalUsersCount","users","u","isFetching","acceptFollow","userID","acceptUnfollow","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","usersReducer","count","getUsersSelector","usersPage","getUsersPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersApiContainer","getUsers","items","totalCount","Header","header","loginBlock","login","logout","captchaUrl","setUsersData","payload","getCaptchaUrlSuccess","getAuthData","getCaptchaUrl","url","authReducer","HeaderContainer","LoginReduxForm","initialized","appReducer","reducers","combineReducers","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","createStore","applyMiddleware","thunkMiddleWare","_store_","App","initializeApp","exact","path","render","DialogsContainer","UsersContainer","AppContainer","MainApp","ErrorBoundary","info","setState","children","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.661b5d77.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/preloader.63eb7825.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogItem_dialog__3tDA2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__1MOXo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"item\":\"Navbar_item__zmMk4\",\"activeLink\":\"Navbar_activeLink__3etBE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__WE9ql\",\"error\":\"FormsControl_error__eY5EU\",\"formSummaryError\":\"FormsControl_formSummaryError__3Uy6X\"};","import React from 'react';\nimport c from './Navbar.module.css';\nimport { NavLink } from 'react-router-dom';\n\nconst Navbar = () => {\n  return (\n    <nav className={c.nav}>\n      <div className={`${c.item} ${c.active}`}>\n  \n        <NavLink to='/profile' activeClassName={c.activeLink}>\n          Profile\n        </NavLink>\n      </div>\n      <div className={c.item}>\n        <NavLink to='/dialogs' activeClassName={c.activeLink}>\n          Messages\n        </NavLink>\n      </div>\n      <div className={c.item}>\n        <NavLink to='/news' activeClassName={c.activeLink}>\n          News\n        </NavLink>\n      </div>\n      <div className={c.item}>\n        <NavLink to='/music' activeClassName={c.activeLink}>\n          Music\n        </NavLink>\n      </div>\n      <div className={c.item}>\n        <NavLink to='/users' activeClassName={c.activeLink}>\n          Users\n        </NavLink>\n      </div>\n      <br />\n      <div className={c.item}>\n        <NavLink to='/settings' activeClassName={c.activeLink}>\n          Settings\n        </NavLink>\n      </div>\n    </nav>\n  );\n};\nexport default Navbar;\n\n","import React from 'react';\nimport preloader from '../../assets/images/preloader.gif';\nconst Preloader = ()=>{\n    return <div> \n     <img src={preloader} style={{width:'50px'}}/>\n    </div>\n}\n\nexport default Preloader;","import React, {useState} from 'react';\nimport { useEffect } from 'react';\n\n\nconst ProfileStatusWithHook=(props) =>{\n  let [editMode, setEditMode] = useState(false);\n  let [status, setStatus]= useState(props.state);\n  useEffect(()=>{\n      setStatus(props.status);\n  }, [ props.status]);\n  \n  const activateEditMode= ()=>{\n       setEditMode(true);\n  }\n  const deactivateEditMode=()=>{\n      setEditMode(false);\n      props.updateStatus(status);\n\n  }\n  const onStatusChange=(e)=>{\n      setStatus(e.currentTarget.value);\n  }\nreturn (\n        <div> {!editMode && \n            <div>\n                \n            <span onClick={activateEditMode}>{props.status|| 'no status'} </span>\n   \n            </div>}     \n             { editMode &&\n            <div>\n             <input onBlur={deactivateEditMode} autoFocus={true} onChange={onStatusChange} value={status} />\n            </div>}\n\n        </div>)\n    }   \n \nexport default ProfileStatusWithHook;","import React from 'react';\nimport s from './FormsControl.module.css'\nimport {Field} from 'redux-form';\n\nexport const Textarea = ({input, meta, ...props})=>{\n    const hasError = meta.touched && meta.error;\n    return <div className={s.formControl + \" \" + (hasError ? s.error : '')}>\n        <div>\n            <textarea { ...props} {...input}/>\n          </div> \n          {hasError &&<span>{meta.error}</span>}\n          </div>\n}\nexport const Input = ({input, meta, ...props})=>{\n    const hasError = meta.touched && meta.error;\n    return <div className={s.formControl + \" \" + (hasError ? s.error : '')}>\n        <div>\n            <input { ...props} {...input}/>\n          </div> \n          {hasError &&<span>{meta.error}</span>}\n          </div>\n}\nexport const createField = ( placeholder, name, validators,component, props={},text='')=>(\n\n<div>\n    <Field placeholder ={placeholder} name={name}\n    validate={validators} component = {component}{...props}/>\n    {text}\n</div>)","import React from  'react';\nimport { createField, Input, Textarea } from '../../common/FormsControls/FormsControl';\nimport { reduxForm } from 'redux-form';\nimport a from './ProfileInfo.module.css';\nimport s from '../../common/FormsControls/FormsControl.module.css'\n\n\nconst ProfileDataForm = ({handleSubmit,profile, error})=>{\nreturn <form onSubmit={handleSubmit}>\n       { error && <div className={s.formSummaryError}>\n         {error}\n         </div> \n         } \n         <div>\n         <b> Name:</b> {createField('Full name', 'fullName',[], Input )} \n         </div>\n         <div>\n          <b>Looking for a job: </b> \n           {createField('', 'lookingForAJob',[], Input, {type:'checkbox'} )} \n         </div>\n         <div>\n          <b>My professional skills: </b> {createField('My professional skills', 'lookingForAJobDescription',[], Textarea)} \n         </div>\n         <div>\n          <b>About me: </b> {profile.aboutMe} {createField('About me', 'aboutMe',[],Textarea)}\n         </div>\n         <div>\n          <b>Contacts:</b> {Object.keys(profile.contacts).map(key=>{\n            return <div key={key} className={a.contact}> \n            <b>{key}:</b> {createField(key, 'contacts.' + key,[], Input)} </div>\n          })}\n         </div> \n          <div><button>Save</button></div>\n </form>\n}\n\nconst ProfileDataFormRedux = reduxForm({form:'profileData'})(ProfileDataForm)\nexport default ProfileDataFormRedux;","import React from 'react';\nimport a from './ProfileInfo.module.css';\nimport Preloader from '../../common/Preloader';\nimport ProfileStatusWithHook from './ProfileStatusWithHook';\nimport userPhoto from '../../../assets/images/profile.jpg';\nimport { useState } from 'react';\nimport ProfileDataForm from './ProfileDataForm';\n\n\nconst ProfileInfo = ({profile,status, updateStatus,isOwner, savePhoto, saveProfile}) =>{\n \n  let [ editMode, setEditMode]= useState(false);\nif (!profile){\n    return <Preloader/>\n  }\n  const onMainPhotoSelected=(e)=>{\n    if(e.target.files.length){\n      savePhoto(e.target.files[0]);\n    }\n  }\n  const onSubmit = (formData)=>{\n    saveProfile(formData).then(\n      ()=>{\n    setEditMode(false);\n  }\n    );\n    }\n    return (\n    <div className={a.content} >\n      <div>\n        <img src='https://www.cloudheroes.com/wp-content/uploads/2015/09/Fotolia_84795519_Subscription_Monthly_M.jpg' />\n      </div>\n       <div className={a.profileImage}>\n         <img src={profile.photos.large || userPhoto}/>\n        {isOwner && <input type={'file'} onChange={onMainPhotoSelected}/>}\n         <br/>  \n        </div>\n         <div className={a.status}><b>Status:</b>\n         <ProfileStatusWithHook  status={status} updateStatus={updateStatus} />\n         </div> \n         {editMode \n         ? <ProfileDataForm initialValues ={profile} profile={profile} onSubmit={onSubmit}/>\n         : <ProfileData profile={profile} isOwner={isOwner} \n         goToEditMode={()=>{setEditMode(true)}}/>}\n    </div>\n    )}\n\n    const ProfileData=({profile, isOwner, goToEditMode})=>{\n      return<div className={a.description}>\n        <div>\n         <b> Name:</b> {profile.fullName} \n        </div>\n         <div>\n          <b>Looking for a job: </b> {profile.lookingForAJob ? 'yes':'no'} \n         </div>\n         {profile.lookingForAJob &&\n         <div>\n          <b>My professional skills: </b> {profile.lookingForAJobDescription} \n         </div>} \n         <div>\n          <b>About me: </b> {profile.aboutMe} \n         </div>\n         <div>\n          <b>Contacts:</b> {Object.keys(profile.contacts).map(key=>{\n            return <Contact key={key} contactTitle={key} \n            contactValue={profile.contacts[key]}/>\n          })}\n         </div>\n         <div className={a.button}>\n         { isOwner && <div><button onClick={goToEditMode}>EDIT</button></div>}\n         </div>\n        </div>\n    }\n    \n    const Contact = ({ contactTitle, contactValue})=>{\n      return <div className={a.contact}><span>{contactTitle}</span>:{contactValue}</div>\n    }\n\nexport default ProfileInfo;","import a from './Post.module.css';\nimport React from 'react';\nconst Post = (props) => {\n  return (\n    <div className={a.item}>\n          <img src=\"https://img.zcool.cn/community/0149f855f6d7fd32f875a1320152e9.jpg\"/>\n          {props.message}\n     \n      <div className={a.span}>\n          <span>Likes: {props.likesCount}</span>\n      </div>\n     </div>  \n    \n  );\n};\nexport default Post;\n","import React from 'react';\n\nexport const required = (value)=>{\n    if(value) return undefined;\n    return 'Field is required';\n}\nexport const maxLengthCreator =(maxLength) => (value)=>{\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols`;\n    return undefined;\n}","import React from 'react';\nimport a from './MyPosts.module.css';\nimport Post from './Post/Post';\nimport { Field,reduxForm } from 'redux-form';\nimport {required, maxLengthCreator} from '../../../utils/validators/validator'\nimport { Textarea } from '../../common/FormsControls/FormsControl';\n\nconst MyPosts= React.memo (props=>  {\n \n  // shouldComponentUpdate(nextProps, nextState){\n  //   return nextProps !==this.props || nextState !==this.state;\n  // }\n// let textarea = React.createRef();\n      let postsElements = props.postData.map(p=><Post key={p.id} message={p.message} \n      likesCount={p.likesCount} /> );\n      let maxLenght = maxLengthCreator(20);\n\n    let  MyPostForm=(props)=>{\n        return<div>\n              <form onSubmit = {props.handleSubmit}> \n               <div>\n                 <Field component={Textarea} name={'newPostText'}\n                  placeholder={'enter post'} validate={[required, maxLenght]}/>\n               </div>\n               <div>\n                  <button>Add post</button>\n               </div>\n              </form>\n              </div>\n      }\n      let addPost=(value)=>{\n        props.addClick(value.newPostText);\n      }\n      const PostReduxForm = reduxForm ({\n        form:'post'\n      }) (MyPostForm);\n\n    return (\n    <div className={a.myPosts}>\n      <div className={a.postArea}>\n        <h3>My posts</h3>\n        <div><PostReduxForm onSubmit={addPost}/></div>\n      </div>\n      <div className={a.posts}>\n         {postsElements}\n      </div>\n    </div>\n  )\n});\nexport default MyPosts;\n","import * as axios from \"axios\";\n\nconst instance = axios.create ({\n    withCredentials:true,\n    baseURL:'https://social-network.samuraijs.com/api/1.0/',\n    headers:{\n        'API-KEY':'1f15e5f8-9e91-4ed1-afcd-db408fee4fd2'\n      }\n\n})\nexport const userAPI = {\n getUsers (currentPage, pageSize) {\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`\n   )\n    .then( response =>{ \n        return response.data;\n        \n});\n},\nunfollow (userId){\n    return instance.delete(`follow/${userId}`)\n},\nfollow(userId){\n    return instance.post(`follow/${userId}`)\n },\n getProfile (userId) {\n    return profileAPI.getProfile(userId);\n       \n   }\n}\n\nexport const profileAPI = {\n   getProfile (userId) {\n    return instance.get(`profile/`+ userId );\n       \n   },\n\n   getStatus(userId){\n       return instance.get(`profile/status/`+ userId);\n   },\n   updateStatus(status){\n       return instance.put(`profile/status/`, {status:status});\n   },\n   savePhoto(photoFile){\n       const formData= new FormData();\n       formData.append('image', photoFile);\n    return instance.put(`profile/photo/`, formData,{\n        headers:{\n            'Content-Type':'multipart/form-data'\n        }\n    });\n},\nsaveProfile(profile){\n    return instance.put(`profile`, profile);\n}\n} \n\nexport const authAPI = {\n me()  {\n      return instance.get(`auth/me`);\n  },\n\n    login(email, password, rememberMe=false, captcha= null)  {\n         return instance.post(`auth/login`,{email, password, rememberMe, captcha});\n     },\n     logout(){\n         return instance.delete(`auth/login`);\n     }\n   }\n\nexport const securityAPI = {\n getCaptchaUrl () { \n  return instance.get(`security/get-captcha-url` );\n}}\n\n\n\n\n\n\n\n","import {profileAPI, userAPI} from '../api/api';\nimport { stopSubmit } from 'redux-form';\n\nconst ADD_POST = '3_ADD_POST';\nconst SET_USER_PROFILE ='3_SET_USER_PROFILE';\nconst SET_STATUS ='3_SET_STATUS';\nconst UPDATE_NEW_POST_TEXT= '3_UPDATE_NEW_POST_TEXT';\nconst SAVE_PHOTO_SUCCESS = '3_SAVE_PHOTO_SUCCESS';\n\nlet initialState= {\n  postData:[\n    {message:'Hi, how are you?', likesCount:1, id:1},\n    {message:'This is my first post', likesCount:35, id:2},\n    {message:'I am here', likesCount:225, id:3}\n],\n  profile:null,\n   status: \"\"\n};\n\nconst  profileReducer = (state= initialState,action)=>{\n    switch (action.type){\n    case ADD_POST:{\n        let newPost={\n          id:4,\n          message:action.newPostText,\n          likesCount:0\n          };\n        return {\n          ...state,\n        postData:[...state.postData, newPost],\n        \n        }\n      }\n \n     case SET_USER_PROFILE:{\n      return {\n        ...state,\n       profile:action.profile\n      }\n     }\n     case SET_STATUS :{\n      return {\n        ...state,\n       status:action.status\n      }\n     }\n     case SAVE_PHOTO_SUCCESS :{\n      return {\n        ...state,\n       profile:{...state.profile, photos:action.photos}\n      }\n     }\n     default:\n         return state;\n         \n  }  \n}\nexport const addPostActionCreator= (newPostText)=>{\n  return {\n    type:ADD_POST, newPostText\n  }\n}\n\n export const updateNewPostTextActionCreator=(text)=>{\n  return{\n    type:UPDATE_NEW_POST_TEXT, newText: text\n  }\n}\nexport  const setUserProfile=(profile)=>{\n  return{\n    type:SET_USER_PROFILE, profile\n  }\n}\nexport const setStatus=(status)=>{\n  return{\n    type:SET_STATUS, status\n  }}\n  export const savePhotoSuccess=(photos)=>{\n    return{\n      type:SAVE_PHOTO_SUCCESS, photos\n    }}\nexport const getUserProfile = (userId)=>async(dispatch)=>{\n  let response = await userAPI.getProfile(userId)\n  dispatch(setUserProfile(response.data));\n  }\nexport const getStatus = (userId)=>async(dispatch)=>{\n  let response = await profileAPI.getStatus(userId)\n   dispatch(setStatus(response.data));\n }\nexport const updateStatus = (status)=>async(dispatch)=>{\n  let response = await profileAPI.updateStatus(status)\n  if( response.data.resultCode === 0){\n  dispatch(setStatus(status));\n      }}\nexport const savePhoto = (file)=>async(dispatch)=>{\n  let response = await profileAPI.savePhoto(file)\n  if( response.data.resultCode === 0){\n   dispatch(savePhotoSuccess(response.data.data.photos));\n            }}\n export const saveProfile = (profile)=>async(dispatch, getState)=>{\n const userId = getState().auth.id;\n let response = await profileAPI.saveProfile(profile);\n  if( response.data.resultCode === 0){\n   dispatch(getUserProfile(userId));\n } else{\n   dispatch(stopSubmit('profileData',{_error:response.data.messages[0]}));\n   return Promise.reject(response.data.messages[0]);\n }\n}\n \nexport default profileReducer;","import React from 'react';\nimport MyPosts from \"./MyPosts\";\nimport { addPostActionCreator} from '../../../redux/profileReducer';\nimport { connect } from \"react-redux\";\n\nlet getStateForProps=(state)=>{\n  return{\n    postData:state.profilePage.postData,\n    newPostText:state.profilePage.newPostText\n  }\n};\n let getDispatchForProps = (dispatch)=>{\n   return{\n   \n   addClick:(newPostText)=>{\n    dispatch(addPostActionCreator(newPostText));\n   }\n   }\n  }\n\nconst MyPostsContainer = connect (getStateForProps, getDispatchForProps)(MyPosts);\nexport default MyPostsContainer;","import React from 'react';\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\n\nconst Profile = (props) => {\n  return (\n    <div>\n      <ProfileInfo profile={props.profile}\n       status={props.status} \n       updateStatus={props.updateStatus}\n       isOwner={props.isOwner} \n       savePhoto={props.savePhoto}\n       saveProfile={props.saveProfile}/>\n      <MyPostsContainer store = {props.store} />\n      \n   </div>\n  );\n};\nexport default Profile;\n\n\n","import React from 'react';\nimport Profile from './Profile';\nimport {connect} from 'react-redux';\nimport {getUserProfile, getStatus, updateStatus,savePhoto, saveProfile } from '../../redux/profileReducer';\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'redux';\n\n\nclass ProfileContainer extends React.Component {\nrefreshProfile (){\n    let userId = this.props.match.params.userId;\n    if(!userId){\n        userId = this.props.authUserId;\n        if(!userId){\n            this.props.history.push('/login');\n        }\n    }\n    this.props.getUserProfile(userId);\n    this.props.getStatus(userId);\n   } \n\ncomponentDidMount(){\n   this.refreshProfile();\n   } \n\ncomponentDidUpdate(prevProps, prevState){\n    if (this.props.match.params.userId !== prevProps.match.params.userId){\n    this.refreshProfile();\n}}\nrender(){\n    return(\n        <Profile {...this.props} \n        profile={this.props.profile}\n        status={this.props.status}\n        updateStatus={this.props.updateStatus} \n        isOwner = {!this.props.match.params.userId}\n        savePhoto ={ this.props.savePhoto}\n    \n           />\n    )\n}\n}\nlet mapStateToProps =(state)=>({\n profile: state.profilePage.profile,\n status: state.profilePage.status,\n authUserId: state.auth.id,\n isAuth: state.auth.isAuth\n \n});\nexport default compose (connect (mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile}) , withRouter)(ProfileContainer);\n","const ADD_MESSAGE='4_ADD_MESSAGE';\n\nlet initialState={\n    dialogsData:[\n        {name:'Bob', id: 1},\n        {name:'Alex', id: 2},\n        {name:'Man', id: 3},\n        {name:'Katja', id: 4},\n        {name:'Max', id: 5}\n ],  \n     messagesData :[\n      {id:1,message:\"Hello my friend\"},\n      {id:2,message:\"Hola\"},\n      {id:3,message:\"Dosvidos\"}\n ]\n   \n };\n\nconst messageReducer= (state=initialState,action)=>{\n switch(action.type){\ncase ADD_MESSAGE:{\n    let newMessageBody= action.newMessageText;\n     return {\n       ...state,\n      messagesData:[...state.messagesData, {id:4, message:newMessageBody}]\n      \n    }\n  }\ndefault:\n    return state;\n } \n} \nexport const addMessageActionCreator= (newMessageText)=>{\n    return {\n      type:ADD_MESSAGE, newMessageText\n    }\n  }\n  \n     \nexport default messageReducer;","import React from 'react';\nimport d from './DialogItem.module.css';\nimport { NavLink } from 'react-router-dom';\n\nconst DialogItem =(props)=>{\n    return(\n    <div className={d.dialog}>\n    <NavLink to={'/dialogs/'+ props.id}>{props.name}</NavLink>\n    </div>)\n};\nexport default DialogItem;","import React from 'react';\nimport d from './Message.module.css';\n\nconst Message = (props)=>{\n    return(\n<div className={d.message}>{props.message}</div>)\n}\nexport default Message;","import React from 'react';\nimport d from './Dialogs.module.css';\nimport DialogItem from './DialogItem/DialogItem';\nimport Message from './Message/Message';\nimport { Redirect } from 'react-router-dom';\nimport { Field,reduxForm } from 'redux-form';\nimport { Textarea } from '../common/FormsControls/FormsControl';\nimport { required, maxLengthCreator } from '../../utils/validators/validator';\n\n\n\nconst Dialogs = (props) => {\n\nlet state= props.messagesPage\n\nlet dialogsElements = state.dialogsData.map(d => <DialogItem name={d.name} id={d.id}/>);\n\nlet messagesElements= state.messagesData.map(m => <Message message={m.message}/>);\nlet newMessageText = state.newMessageText;\n\n \nconst maxLength30 = maxLengthCreator (30);\n\nconst FormMessage =(props)=>{\n    return (\n    <div>\n         <form onSubmit={props.handleSubmit}>\n             <div>\n               <Field validate={[required,maxLength30 ]} name={'newMessageText'}  component={Textarea} placeholder={'enter your message'}/>  \n             </div>\n             <div>\n               <button>Add message</button>\n             </div> \n           </form>\n    </div> )\n};\nconst MessageReduxForm = reduxForm ({\n    form:'message'\n}) (FormMessage);\n\nlet onSubmit=(values)=>{\n    props.onMessageAddClick(values.newMessageText);\n    \n\n}\n\nif(!props.isAuth) return <Redirect to= {'/login'}/>\n    return(\n        <div className={d.dialogs}>\n            <div className={d.dialogsItems}>\n                {dialogsElements}\n            </div>\n           \n            <div className={d.messages}>\n                {messagesElements}\n             \n            </div>\n            <div>\n                <MessageReduxForm onSubmit={onSubmit} />\n            </div>\n             \n        </div>\n    )\n}\nexport default Dialogs;","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport {connect} from 'react-redux';\n\nlet mapStateToPropsRedirect=(state)=>{\n  return{\n isAuth:state.auth.isAuth\n  }\n};\n\nexport const  AuthRedirect = (Component) =>{\n  class RedirectComponent  extends React.Component{\n      render(){\n        if (!this.props.isAuth) return <Redirect to={'/login'}/>\n        return <Component {...this.props}/>\n      }}\n\nlet ConnectedAuthRedirectComponent = connect (mapStateToPropsRedirect)(RedirectComponent)\n      return ConnectedAuthRedirectComponent;\n}\n\n","import React from 'react';\nimport { addMessageActionCreator} from '../../redux/messageReducer';\nimport Dialogs from './Dialogs';\nimport {connect} from 'react-redux';\nimport { AuthRedirect} from '../../components/hoc/AuthRedirect';\nimport { compose } from 'redux';\n\n\nlet mapStateToProps=(state)=>{\n    return{\n    messagesPage:state.messagesPage\n \n    }\n};\nlet mapDispatchToProps= (dispatch)=>{\n    return{\n        onMessageAddClick:(newMessageText)=>{\n        dispatch(addMessageActionCreator(newMessageText)); \n        }\n}\n}\n\n\n\n\nexport default compose (connect (mapStateToProps, mapDispatchToProps),AuthRedirect)(Dialogs)\n","import React from 'react';\nimport s from './News.module.css';\n\nconst News = ()=>{\n    return(\n    <div>News</div>)\n}\nexport default News;\n\n","import React from 'react';\nimport s from './Music.module.css';\n\nconst Music = ()=>{\n    return(\n     <div>Music</div>)\n}\nexport default Music;\n\n","import React from 'react';\nimport s from './Settings.module.css';\n\nconst Settings = ()=>{\n    return(\n    <div>Settings</div>)\n     \n}\nexport default Settings;\n\n","import React, { useState } from 'react';\nimport s from './Pagination.module.css';\nimport cn from 'classnames';\n\nlet Pagination = ({totalItemsCount,pageSize,currentPage,onPageChanged,portionSize=10}) =>{\n\n    const pagesCount = Math.ceil(totalItemsCount/pageSize);\n    const pages = [];\n      for (let i=1; i<= pagesCount; i++){\n       pages.push(i);\n      };\n    const portionCount = Math.ceil(pagesCount/portionSize);  \n    const [portionNumber,setPortionNumber]=useState(1);\n    const leftPortionPageNumber= (portionNumber-1) * portionSize + 1;\n    const rightPortionPageNumber = portionNumber * portionSize;\n\n\n   \n    \n return  <div className={s.pagination}>\n   {portionNumber > 1 &&\n   <button onClick={()=> {setPortionNumber(portionNumber-1)}}>PREV</button>\n   }\n       {pages.filter (p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n       .map ((p) =>{\n         return <span className= { cn({[s.selectedPage]:currentPage === p }, s.pageNumber) }\n          key={p}\n          onClick={(e)=> {onPageChanged(p)}}>\n          {p} </span>\n})}\n{portionCount > portionNumber &&\n<button onClick={()=>{setPortionNumber(portionNumber + 1)}}>Next</button>\n}\n</div>\n}\nexport default Pagination","import React from 'react';\nimport s from './users.module.css';\nimport userPhoto from '../../assets/images/profile.jpg';\nimport { NavLink } from 'react-router-dom';\n\nconst User = ({user,followingInProgress,unfollow,follow}) => {\n  return (\n    <div>\n      <span>\n        <div>\n          <NavLink to={'Profile/' + user.id}>\n            <img\n              src={user.photos.small !== null ? user.photos.small : userPhoto}\n              className={s.userPhoto}\n            />\n          </NavLink>\n        </div>\n        <div>\n          {user.followed ? (\n            <button\n              disabled={followingInProgress.some(id => id === user.id)}\n              className={s.button}\n              onClick={() => {\n                unfollow(user.id);\n              }}\n            >\n              Unfollow{' '}\n            </button>\n          ) : (\n            <button\n              disabled={followingInProgress.some(id => id === user.id)}\n              onClick={() => {\n               follow(user.id);\n              }}\n            >\n              Follow\n            </button>\n          )}\n        </div>\n      </span>\n      <div className={s.nameStatus}>\n          <div> {user.name}</div>\n          <div>{user.status}</div>\n        </div>\n        {/* <span>\n          <div>{'user.location'}</div>\n        </span> */}\n      \n    </div>\n  );\n};\nexport default User;\n","import React from 'react';\nimport Pagination from '../common/Paginator/Pagination'; \nimport User from './User';\n\nconst Users = ({totalUsersCount,pageSize,currentPage,onPageChanged,users,...props})=> {\n\nreturn <div>\n       <Pagination totalItemsCount={totalUsersCount}\n    pageSize={pageSize} currentPage={currentPage} \n    onPageChanged={onPageChanged} />\n    <div>\n           {\n            users.map(u => < User key={u.id}\n            followingInProgress={props.followingInProgress}\n            user={u}\n            follow={props.follow}\n            unfollow={props.unfollow}\n            />) \n           }\n    </div>\n</div>\n}\nexport default Users;\n","import {userAPI} from '../api/api';\n\nconst FOLLOW = '1_FOLLOW';\nconst UNFOLLOW = '1_UNFOLLOW';\nconst SET_USERS = '1_SET_USERS';\nconst SET_CURRENT_PAGE = '1_SET_CURRENT_PAGE';\nconst SET_TOTAL_USERS_COUNT = '1_SET_TOTAL_USERS_COUNT';\nconst TOGGLE_IS_FETCHING = '1_TOGGLE_IS_FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = '1_TOGGLE_IS_FOLLOWING_PROGRESS';\n\nlet initialState= {\n     users:[\n      ],\n      pageSize:10,\n      totalUsersCount:20,\n      currentPage:1,\n      isFetching:true,\n      followingInProgress:[]\n};\nconst  usersReducer = (state= initialState,action)=>{\n      switch (action.type){\n      case FOLLOW:\n          return {\n              ...state,\n              users:state.users.map(u => {\n                  if( u.id===action.userID){\n                      return {...u, followed:true}\n                  }\n                  return u;\n              })\n}\n       case UNFOLLOW:\n        return {\n            ...state,\n            users:state.users.map(u => {\n            if( u.id===action.userID){\n                return {...u, followed:false}\n            }\n                return u;\n            })\n}\n       case SET_USERS:{\n        return {\n            ...state, users: action.users\n            }\n      }\n      case SET_CURRENT_PAGE:{\n        return {\n            ...state, currentPage:action.currentPage\n            }\n      }\n      case SET_TOTAL_USERS_COUNT:{\n        return {\n            ...state, totalUsersCount:action.count\n            }\n      }\n      case TOGGLE_IS_FETCHING:{\n        return {\n            ...state, isFetching:action.isFetching\n            }\n      }\n      case TOGGLE_IS_FOLLOWING_PROGRESS:{\n        return {\n            ...state, \n            followingInProgress:action.isFetching \n            ? [...state.followingInProgress, action.userId]\n            :  state.followingInProgress.filter (id => id !== action.userId)\n            }\n      }\n       default:\n           return state;\n           }  \n  }\n  export const acceptFollow= (userID)=>{\n    return {\n      type:FOLLOW, userID\n    }\n  }\n  \n   export const acceptUnfollow=(userID)=>{\n    return{\n      type:UNFOLLOW, userID\n    }\n  }\n  export const setUsers=(users)=>{\n    return{\n      type:SET_USERS, users\n    }\n  }\n  export const setCurrentPage=(currentPage)=>{\n    return{\n      type:SET_CURRENT_PAGE, currentPage\n    }\n  }\n  export const setTotalUsersCount=(totalUsersCount)=>{\n    return{\n      type:SET_TOTAL_USERS_COUNT, count:totalUsersCount\n    }\n  }\n  export const toggleIsFetching=(isFetching)=>{\n    return{\n      type:TOGGLE_IS_FETCHING, isFetching\n    }\n  }\n  export const toggleIsFollowingProgress=(isFetching, userId)=>{\n    return{\n      type:TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId\n    }\n  }\n\nexport const getUsers = (currentPage, pageSize)=>{\n  return async(dispatch) =>{\n    dispatch(toggleIsFetching(true));\n    dispatch(setCurrentPage(currentPage));\nlet data = await userAPI.getUsers(currentPage, pageSize);\ndispatch(toggleIsFetching(false));\ndispatch(setUsers(data.items));\ndispatch(setTotalUsersCount(data.totalCount));\n}\n}\nexport const unfollow = (userId)=>{\n  return async(dispatch) =>{\n    dispatch(toggleIsFollowingProgress(true, userId));\n    let response = await userAPI.unfollow(userId);\n    if(response.data.resultCode===0){\n    dispatch(acceptUnfollow(userId));\n    }\n    dispatch(toggleIsFollowingProgress(false, userId));\n}\n}\nexport const follow = (userId)=>{\n  return async(dispatch) =>{\n    dispatch(toggleIsFollowingProgress(true, userId));\n    let response = await userAPI.follow(userId);\n    if(response.data.resultCode===0){\n    dispatch(acceptFollow(userId));\n    }\n    dispatch(toggleIsFollowingProgress(false, userId));\n  }\n}\nexport default usersReducer;","export const getUsersSelector=(state)=>{\n   return state.usersPage.users;\n}\n\nexport const getUsersPageSize=(state)=>{\n    return state.usersPage.pageSize;\n}\n        \nexport const getTotalUsersCount=(state)=>{\n    return state.usersPage.totalUsersCount;\n}\nexport const getCurrentPage=(state) =>{\n  return  state.usersPage.currentPage;\n}     \nexport const getIsFetching= (state)=>{\n   return state.usersPage.isFetching;\n}\nexport const getFollowingInProgress=(state)=>{\n   return state.usersPage.followingInProgress\n}   \n","import React from 'react';\nimport {connect} from 'react-redux';\nimport Users from './Users';\nimport { acceptFollow, acceptUnfollow, follow, unfollow, setCurrentPage,  getUsers, } from '../../redux/usersReducer';\nimport Preloader from '../common/Preloader';\nimport {getUsersSelector, getUsersPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from '../../redux/usersSelectors';\n\nclass UsersApiContainer extends React.Component {\n\n    componentDidMount(){\n      const {currentPage,pageSize}= this.props;\n        this.props.getUsers(currentPage,pageSize);\n   }\n\n    onPageChanged = (pageNumber)=> {\n     const {pageSize}= this.props;\n      this.props.getUsers(pageNumber,pageSize);\n \n} \nrender() {\n   return <div >\n     {this.props.isFetching ? \n     <Preloader/> : null}\n     <Users totalUsersCount={this.props.totalUsersCount}\n      pageSize={this.props.pageSize}\n      users={this.props.users}\n      onPageChanged={this.onPageChanged}\n      currentPage={this.props.currentPage}\n      follow={this.props.follow}\n      unfollow={this.props.unfollow}\n      followingInProgress={this.props.followingInProgress}\n      />\n    </div>\n  }    \n}\n \nlet mapStateToProps= (state)=>{\n    return {\n        users:getUsersSelector (state),\n        pageSize:getUsersPageSize(state),\n        totalUsersCount:getTotalUsersCount (state),\n        currentPage:getCurrentPage (state),\n        isFetching:getIsFetching (state),\n        followingInProgress:getFollowingInProgress(state)\n    }\n}\n  \nexport default connect ( mapStateToProps, {follow,unfollow,\n      setCurrentPage, acceptFollow, acceptUnfollow, \n       getUsers  })\n(UsersApiContainer);","import React from 'react';\nimport s from './Header.module.css';\nimport { NavLink } from 'react-router-dom';\n\nconst Header = (props)=>{\n    return(\n     <header className={s.header}>\n       <img src='https://winaero.com/blog/wp-content/uploads/2017/07/Paint-3D-icon-logo.png'/>\n       <div className={s.loginBlock}>\n         {props.isAuth \n         ?<div > {props.login}  <button onClick={props.logout}>Log out</button></div>\n          :\n         <NavLink to={'/login'}>Login</NavLink>}\n\n       </div>\n     </header>)\n     \n}\nexport default Header;\n\n","import {authAPI, securityAPI} from '../api/api';\nimport { stopSubmit } from 'redux-form';\nconst SET_USERS_DATA ='2_SET_USERS_DATA';\nconst GET_CAPTCHA_URL_SUCCESS ='2_GET_CAPTCHA_URL_SUCCESS';\n\nlet initialState= {\n    id:null,\n    email:null,\n    login:null,  \n    isAuth:false,\n    captchaUrl:null\n   };\n  const  authReducer = (state= initialState,action)=>{\n      switch (action.type){\n      case  SET_USERS_DATA:{\n          \n          return {\n            ...state, \n            ...action.payload\n           }\n          }\n            case GET_CAPTCHA_URL_SUCCESS :{\n                 return {\n                  ...state, \n                  ...action.payload\n                 }\n                }\n        default:\n           return state;\n            } \n} \n  const setUsersData=(id, email, login, isAuth)=>{\n        return{\n          type:SET_USERS_DATA, payload:{id, email, login, isAuth}\n        }};\n  const getCaptchaUrlSuccess=(captchaUrl)=>{\n          return{\n            type:GET_CAPTCHA_URL_SUCCESS, payload:{captchaUrl}\n          }};\n  \n    export const getAuthData =() => async (dispatch)=>{\n       let response = await authAPI.me()\n       if (response.data.resultCode===0){\n       let {id, email, login}= response.data.data;\n       dispatch(setUsersData(id,email,login,true));\n      }\n  } \n    \n    export const login =(email,password,rememberMe, captcha) => async(dispatch)=>{\n   \n      let response = await authAPI.login(email,password, rememberMe, captcha)\n      if (response.data.resultCode===0){\n          dispatch(getAuthData())\n      }else{\n        if (response.data.resultCode ===10){\n          dispatch(getCaptchaUrl());\n        }\n        let message= response.data.messages.length > 0 ? response.data.messages[0]: 'Error';\n        dispatch(stopSubmit('login', {_error:message}));\n      } \n}  \n    export const logout =() =>async(dispatch)=>{\n      let response = await authAPI.logout()\n      if (response.data.resultCode===0){\n        dispatch(setUsersData(null, null, null, false));\n      }\n    }  \n    export const getCaptchaUrl =() =>async(dispatch)=>{\n      const response = await securityAPI.getCaptchaUrl()\n      const captchaUrl =response.data.url;\n        dispatch(getCaptchaUrlSuccess(captchaUrl));\n      }\n      \n\n   export default authReducer;","import React from 'react';\nimport Header from './Header';\n\nimport { connect } from 'react-redux';\nimport { logout} from '../../redux/authReducer'\n\n\n\n\n class HeaderContainer extends React.Component {\n\n  \nrender(){\n    return <Header {...this.props}/>\n}\n}\nconst mapStateToProps=(state)=>({\n    isAuth:state.auth.isAuth,\n    login:state.auth.login,\n\n});\n\nexport default connect (mapStateToProps,{ logout }) (HeaderContainer);\n\n","import React from 'react';\nimport { Field,reduxForm } from 'redux-form';\nimport { Input, createField } from '../common/FormsControls/FormsControl';\nimport { required } from '../../utils/validators/validator';\nimport { connect } from 'react-redux';\nimport { login} from '../../redux/authReducer';\nimport { Redirect } from 'react-router-dom';\nimport s from '../common/FormsControls/FormsControl.module.css';\n\n\nconst LoginForm = ({handleSubmit, error, captchaUrl})=>{ //destuctization of propd by extracting what we need from them handleSubmit and error\n    return(\n        <div>\n            <form onSubmit={handleSubmit}>\n                <div>\n                    <Field validate={[required]}  placeholder={'email'} name={'email'} component={Input }/>\n                </div>\n                <div>\n                    <Field validate={[required]} type={'password'}  placeholder={'password'} name={'password'} component={Input}/>\n                </div>\n                <div>\n                    <Field  type={'checkbox'} name={'RememberMe'} component={Input}/>remember me\n                </div>\n                \n                { captchaUrl && <img src={captchaUrl}/> }\n                { captchaUrl && createField('Symbols from image', 'captcha',[required], Input, {} )}\n                { error && <div className={s.formSummaryError}> {error}\n\n                </div>} \n                <div>\n                    <button>Login</button>\n                </div>\n            </form>\n        </div>\n    )\n}\nconst LoginReduxForm = reduxForm ({\n    form:'login'\n}) (LoginForm)\n\n\nconst Login = (props)=>{\n    const onSubmit = (formData)=>{\n      props.login(formData.email, formData.password,formData.rememberMe, formData.captcha )\n    }\n    if (props.isAuth){ \n        return <Redirect to={'/profile'}/>\n    }\n    return(\n        <div>\n            <h1>Login</h1>\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\n        </div>\n    )\n}\nconst mapStateToProps= (state)=>({\n    isAuth:state.auth.isAuth,\n    captchaUrl:state.auth.captchaUrl\n})\nexport default connect (mapStateToProps, { login }) (Login);","import {getAuthData} from './authReducer'\n\nconst SET_INITIALIZED= '5_SET_INITIALIZED';\n\n\nlet initialState={\n    initialized:false\n}\nconst appReducer = (state=initialState, action)=>{\n switch (action.type) {\n     case SET_INITIALIZED:\n         return{\n         ...state,\n         initialized:true\n         }\n   default:\n       return state;\n }\n}\n \nexport const initializedSuccess = ()=> ({type:SET_INITIALIZED});\nexport const initializeApp =()=>(dispatch)=>{\n    let promise=dispatch(getAuthData());\n    promise.then (()=>{\n        dispatch(initializedSuccess());\n    });\n\n    }\n\n\nexport default appReducer;","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport profileReducer from './profileReducer';\nimport messageReducer from './messageReducer';\nimport usersReducer from './usersReducer';\nimport authReducer from './authReducer';\nimport appReducer from './appReducer';\nimport thunkMiddleWare from 'redux-thunk';\nimport { reducer as formReducer} from 'redux-form';\n\n\nlet reducers = combineReducers({\nprofilePage:profileReducer,\nmessagesPage:messageReducer,\nusersPage:usersReducer,\nauth: authReducer,\nform:formReducer,\napp:appReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleWare)\n));\n\nwindow._store_= store;\nexport default store;","import React from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport ProfileContainer from './components/Profile/ProfileContainer';\nimport DialogsContainer from './components/Dialogs/DialogsContainer';\nimport { Route, withRouter, Redirect,  } from 'react-router-dom';\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\nimport Settings from './components/Settings/Settings';\nimport UsersContainer from './components/Users/UsersContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\nimport { connect } from 'react-redux';\nimport { initializeApp} from './redux/appReducer';\nimport { compose } from 'redux';\nimport Preloader from './components/common/Preloader';\nimport {HashRouter, Switch} from 'react-router-dom';\nimport {Provider} from 'react-redux';\nimport store from './redux/reduxStore';\n\nclass  App extends React.Component {\n  componentDidMount(){\n    this.props.initializeApp();\n}\n  render(){\n    if(!this.props.initialized){\n    return <Preloader/>\n    }\n   return (\n    \n      <div className='app-wrapper'>\n        <HeaderContainer />\n        <Navbar />\n        <div className='app-wrapper-content'>\n          <Switch>\n          <Route exact path='/'\n                 render={()=> <Redirect to={\"/profile\"}/>}/>\n          <Route path='/profile/:userId?' render={ () =><ProfileContainer  />} />\n          <Route path='/dialogs' render={ () =><DialogsContainer />} />\n          <Route path='/news' render={ () =><News/>} />\n          <Route path='/music' render={ () =><Music/>} />\n          <Route path='/users' render={ () =><UsersContainer/>} />\n          <Route path='/settings' render={ () =><Settings/>} />\n          <Route path='/login' render={ () =><Login/>} />\n          <Route path='*' render ={()=><div>404 NOT FOUND</div>}/>\n          </Switch>\n        </div>\n      </div>\n   \n  );\n}\n}\n const mapStateToProps = (state)=>({\n   initialized: state.app.initialized\n });\n\nlet AppContainer = compose (withRouter,\n   connect (mapStateToProps,{initializeApp })) (App);\n\nlet MainApp = (props)=>{\nreturn <HashRouter>\n<Provider store={store}>\n<AppContainer />\n</Provider>\n</HashRouter>\n}\nexport default MainApp;","import React,{Component} from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MainApp from './App';\n\nclass ErrorBoundary extends Component{\n  constructor(props){\n      super(props);\n      this.state={hasError:false};\n  }\n  componentDidCatch(error,info){\n      this.setState({hasError:true});\n  }\n  render(){\n      if(this.state.hasError){\n       return <h1>ERROR. Something went wrong.</h1>;\n      }\n      return this.props.children;\n  }\n}\n\nReactDOM.render(\n<ErrorBoundary>\n<MainApp />\n</ErrorBoundary>\n, document.getElementById('root'));\n\n    \n\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"ProfileInfo_content__2Io2G\",\"item\":\"ProfileInfo_item__2oxPX\",\"description\":\"ProfileInfo_description__2yWda\",\"profileImage\":\"ProfileInfo_profileImage__V_r63\",\"status\":\"ProfileInfo_status__2G3BZ\",\"contact\":\"ProfileInfo_contact__1N3gp\",\"button\":\"ProfileInfo_button__UKZmL\"};","module.exports = __webpack_public_path__ + \"static/media/profile.cb1043ec.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts\":\"MyPosts_myPosts__14O2X\",\"item\":\"MyPosts_item__R6Jlo\",\"postArea\":\"MyPosts_postArea__msCs2\",\"posts\":\"MyPosts_posts__3tZ1c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2xRSA\",\"dialogsItems\":\"Dialogs_dialogsItems__2sNe2\",\"messages\":\"Dialogs_messages__1w_Up\",\"dialog\":\"Dialogs_dialog__lk_cw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__2YUrh\",\"pageNumber\":\"Pagination_pageNumber__3OfQM\",\"selectedPage\":\"Pagination_selectedPage__sPSVP\",\"image\":\"Pagination_image__KZlTi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__1_En6\",\"selectedPage\":\"users_selectedPage__1mnwI\",\"pointer\":\"users_pointer__3-WUj\",\"image\":\"users_image__1aljZ\",\"nameStatus\":\"users_nameStatus__U-DjC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ihtu9\",\"span\":\"Post_span__kaYWW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"loginBlock\":\"Header_loginBlock__6mma5\"};"],"sourceRoot":""}