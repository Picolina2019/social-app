(this.webpackJsonpsocial1=this.webpackJsonpsocial1||[]).push([[0],{130:function(e,t,n){e.exports=n.p+"static/media/preloader.63eb7825.gif"},134:function(e,t,n){e.exports={dialog:"DialogItem_dialog__3tDA2"}},135:function(e,t,n){e.exports={message:"Message_message__1MOXo"}},15:function(e,t,n){e.exports={nav:"Navbar_nav__2imOE",item:"Navbar_item__zmMk4",activeLink:"Navbar_activeLink__3etBE"}},163:function(e,t,n){e.exports=n(292)},168:function(e,t,n){},169:function(e,t,n){},289:function(e,t,n){},29:function(e,t,n){e.exports={formControl:"FormsControl_formControl__WE9ql",error:"FormsControl_error__eY5EU",formSummaryError:"FormsControl_formSummaryError__3Uy6X"}},290:function(e,t,n){},291:function(e,t,n){},292:function(e,t,n){"use strict";n.r(t);var a=n(19),r=n(20),o=n(22),s=n(21),c=n(23),i=n(0),l=n.n(i),u=n(62),m=n.n(u),p=(n(168),n(169),n(15)),f=n.n(p),d=n(11),g=function(){return l.a.createElement("nav",{className:f.a.nav},l.a.createElement("div",{className:"".concat(f.a.item," ").concat(f.a.active)},l.a.createElement("p",null,"Hello"),l.a.createElement(d.b,{to:"/profile",activeClassName:f.a.activeLink},"Profile")),l.a.createElement("div",{className:f.a.item},l.a.createElement(d.b,{to:"/dialogs",activeClassName:f.a.activeLink},"Messages")),l.a.createElement("div",{className:f.a.item},l.a.createElement(d.b,{to:"/news",activeClassName:f.a.activeLink},"News")),l.a.createElement("div",{className:f.a.item},l.a.createElement(d.b,{to:"/music",activeClassName:f.a.activeLink},"Music")),l.a.createElement("div",{className:f.a.item},l.a.createElement(d.b,{to:"/users",activeClassName:f.a.activeLink},"Users")),l.a.createElement("br",null),l.a.createElement("div",{className:f.a.item},l.a.createElement(d.b,{to:"/settings",activeClassName:f.a.activeLink},"Settings")))},E=n(39),h=n(30),v=n.n(h),b=n(130),_=n.n(b),O=function(){return l.a.createElement("div",null,l.a.createElement("img",{src:_.a,style:{width:"50px"}}))},P=function(e){var t=Object(i.useState)(!1),n=Object(E.a)(t,2),a=n[0],r=n[1],o=Object(i.useState)(e.state),s=Object(E.a)(o,2),c=s[0],u=s[1];Object(i.useEffect)((function(){u(e.status)}),[e.status]);return l.a.createElement("div",null," ",!a&&l.a.createElement("div",null,l.a.createElement("span",{onClick:function(){r(!0)}},e.status||"no status"," ")),a&&l.a.createElement("div",null,l.a.createElement("input",{onBlur:function(){r(!1),e.updateStatus(c)},autoFocus:!0,onChange:function(e){u(e.currentTarget.value)},value:c})))},S=n(65),j=n.n(S),w=n(51),y=n(29),C=n.n(y),k=n(126),N=function(e){var t=e.input,n=e.meta,a=Object(w.a)(e,["input","meta"]),r=n.touched&&n.error;return l.a.createElement("div",{className:C.a.formControl+" "+(r?C.a.error:"")},l.a.createElement("div",null,l.a.createElement("textarea",Object.assign({},a,t))),r&&l.a.createElement("span",null,n.error))},T=function(e){var t=e.input,n=e.meta,a=Object(w.a)(e,["input","meta"]),r=n.touched&&n.error;return l.a.createElement("div",{className:C.a.formControl+" "+(r?C.a.error:"")},l.a.createElement("div",null,l.a.createElement("input",Object.assign({},a,t))),r&&l.a.createElement("span",null,n.error))},I=function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return l.a.createElement("div",null,l.a.createElement(k.a,Object.assign({placeholder:e,name:t,validate:n,component:a},r)),o)},x=n(127),A=Object(x.a)({form:"profileData"})((function(e){var t=e.handleSubmit,n=e.profile,a=e.error;return l.a.createElement("form",{onSubmit:t},a&&l.a.createElement("div",{className:C.a.formSummaryError},a),l.a.createElement("div",null,l.a.createElement("b",null," Name:")," ",I("Full name","fullName",[],T)),l.a.createElement("div",null,l.a.createElement("b",null,"Looking for a job: "),I("","lookingForAJob",[],T,{type:"checkbox"})),l.a.createElement("div",null,l.a.createElement("b",null,"My professional skills: ")," ",I("My professional skills","lookingForAJobDescription",[],N)),l.a.createElement("div",null,l.a.createElement("b",null,"About me: ")," ",n.aboutMe," ",I("About me","aboutMe",[],N)),l.a.createElement("div",null,l.a.createElement("b",null,"Contacts:")," ",Object.keys(n.contacts).map((function(e){return l.a.createElement("div",{key:e,className:v.a.contact},l.a.createElement("b",null,e,":")," ",I(e,"contacts."+e,[],T)," ")}))),l.a.createElement("div",null,l.a.createElement("button",null,"Save")))})),U=function(e){var t=e.profile,n=e.isOwner,a=e.goToEditMode;return l.a.createElement("div",{className:v.a.description},l.a.createElement("div",null,l.a.createElement("b",null," Name:")," ",t.fullName),l.a.createElement("div",null,l.a.createElement("b",null,"Looking for a job: ")," ",t.lookingForAJob?"yes":"no"),t.lookingForAJob&&l.a.createElement("div",null,l.a.createElement("b",null,"My professional skills: ")," ",t.lookingForAJobDescription),l.a.createElement("div",null,l.a.createElement("b",null,"About me: ")," ",t.aboutMe),l.a.createElement("div",null,l.a.createElement("b",null,"Contacts:")," ",Object.keys(t.contacts).map((function(e){return l.a.createElement(D,{key:e,contactTitle:e,contactValue:t.contacts[e]})}))),l.a.createElement("div",{className:v.a.button},n&&l.a.createElement("div",null,l.a.createElement("button",{onClick:a},"EDIT"))))},D=function(e){var t=e.contactTitle,n=e.contactValue;return l.a.createElement("div",{className:v.a.contact},l.a.createElement("span",null,t),":",n)},M=function(e){var t=e.profile,n=e.status,a=e.updateStatus,r=e.isOwner,o=e.savePhoto,s=e.saveProfile,c=Object(i.useState)(!1),u=Object(E.a)(c,2),m=u[0],p=u[1];if(!t)return l.a.createElement(O,null);return l.a.createElement("div",{className:v.a.content},l.a.createElement("div",null,l.a.createElement("img",{src:"https://www.cloudheroes.com/wp-content/uploads/2015/09/Fotolia_84795519_Subscription_Monthly_M.jpg"})),l.a.createElement("div",{className:v.a.profileImage},l.a.createElement("img",{src:t.photos.large||j.a}),r&&l.a.createElement("input",{type:"file",onChange:function(e){e.target.files.length&&o(e.target.files[0])}}),l.a.createElement("br",null)),l.a.createElement("div",{className:v.a.status},l.a.createElement("b",null,"Status:"),l.a.createElement(P,{status:n,updateStatus:a})),m?l.a.createElement(A,{initialValues:t,profile:t,onSubmit:function(e){s(e).then((function(){p(!1)}))}}):l.a.createElement(U,{profile:t,isOwner:r,goToEditMode:function(){p(!0)}}))},L=n(70),F=n.n(L),R=n(94),G=n.n(R),z=function(e){return l.a.createElement("div",{className:G.a.item},l.a.createElement("img",{src:"https://img.zcool.cn/community/0149f855f6d7fd32f875a1320152e9.jpg"}),e.message,l.a.createElement("div",{className:G.a.span},l.a.createElement("span",null,"Likes: ",e.likesCount)))},H=function(e){if(!e)return"Field is required"},W=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},V=l.a.memo((function(e){var t=e.postData.map((function(e){return l.a.createElement(z,{key:e.id,message:e.message,likesCount:e.likesCount})})),n=W(20),a=Object(x.a)({form:"post"})((function(e){return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:e.handleSubmit},l.a.createElement("div",null,l.a.createElement(k.a,{component:N,name:"newPostText",placeholder:"enter post",validate:[H,n]})),l.a.createElement("div",null,l.a.createElement("button",null,"Add post"))))}));return l.a.createElement("div",{className:F.a.myPosts},l.a.createElement("div",{className:F.a.postArea},l.a.createElement("h3",null,"My posts"),l.a.createElement("div",null,l.a.createElement(a,{onSubmit:function(t){e.addClick(t.newPostText)}}))),l.a.createElement("div",{className:F.a.posts},t))})),B=n(8),J=n.n(B),Z=n(14),X=n(45),K=n(9),Y=n(133).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"1f15e5f8-9e91-4ed1-afcd-db408fee4fd2"}}),q=function(e,t){return Y.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},Q=function(e){return Y.delete("follow/".concat(e))},$=function(e){return Y.post("follow/".concat(e))},ee=function(e){return te.getProfile(e)},te={getProfile:function(e){return Y.get("profile/"+e)},getStatus:function(e){return Y.get("profile/status/"+e)},updateStatus:function(e){return Y.put("profile/status/",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),Y.put("profile/photo/",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return Y.put("profile",e)}},ne=function(){return Y.get("auth/me")},ae=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Y.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a})},re=function(){return Y.delete("auth/login")},oe=function(){return Y.get("security/get-captcha-url")},se=n(27),ce={postData:[{message:"Hi, how are you?",likesCount:1,id:1},{message:"This is my first post",likesCount:35,id:2},{message:"I am here",likesCount:225,id:3}],profile:null,status:""},ie=function(e){return{type:"3_SET_STATUS",status:e}},le=function(e){return function(){var t=Object(Z.a)(J.a.mark((function t(n){var a;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ee(e);case 2:a=t.sent,n({type:"3_SET_USER_PROFILE",profile:a.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"3_ADD_POST":var n={id:4,message:t.newPostText,likesCount:0};return Object(K.a)({},e,{postData:[].concat(Object(X.a)(e.postData),[n])});case"3_SET_USER_PROFILE":return Object(K.a)({},e,{profile:t.profile});case"3_SET_STATUS":return Object(K.a)({},e,{status:t.status});case"3_SAVE_PHOTO_SUCCESS":return Object(K.a)({},e,{profile:Object(K.a)({},e.profile,{photos:t.photos})});default:return e}},me=n(10),pe=Object(me.b)((function(e){return{postData:e.profilePage.postData,newPostText:e.profilePage.newPostText}}),(function(e){return{addClick:function(t){e(function(e){return{type:"3_ADD_POST",newPostText:e}}(t))}}}))(V),fe=function(e){return l.a.createElement("div",null,l.a.createElement(M,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),l.a.createElement(pe,{store:e.store}))},de=n(35),ge=n(7),Ee=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return l.a.createElement(fe,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto}))}}]),t}(l.a.Component),he=Object(ge.d)(Object(me.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:le,getStatus:function(e){return function(){var t=Object(Z.a)(J.a.mark((function t(n){var a;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te.getStatus(e);case 2:a=t.sent,n(ie(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(Z.a)(J.a.mark((function t(n){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(ie(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(Z.a)(J.a.mark((function t(n){var a;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te.savePhoto(e);case 2:0===(a=t.sent).data.resultCode&&n({type:"3_SAVE_PHOTO_SUCCESS",photos:a.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e){return function(){var t=Object(Z.a)(J.a.mark((function t(n,a){var r,o;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.id,t.next=3,te.saveProfile(e);case 3:if(0!==(o=t.sent).data.resultCode){t.next=8;break}n(le(r)),t.next=10;break;case 8:return n(Object(se.a)("profileData",{_error:o.data.messages[0]})),t.abrupt("return",Promise.reject(o.data.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}),de.g)(Ee),ve={dialogsData:[{name:"Bob",id:1},{name:"Alex",id:2},{name:"Man",id:3},{name:"Katja",id:4},{name:"Max",id:5}],messagesData:[{id:1,message:"Hello my friend"},{id:2,message:"Hola"},{id:3,message:"Dosvidos"}]},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"4_ADD_MESSAGE":var n=t.newMessageText;return Object(K.a)({},e,{messagesData:[].concat(Object(X.a)(e.messagesData),[{id:4,message:n}])});default:return e}},_e=n(71),Oe=n.n(_e),Pe=n(134),Se=n.n(Pe),je=function(e){return l.a.createElement("div",{className:Se.a.dialog},l.a.createElement(d.b,{to:"/dialogs/"+e.id},e.name))},we=n(135),ye=n.n(we),Ce=function(e){return l.a.createElement("div",{className:ye.a.message},e.message)},ke=function(e){var t=e.messagesPage,n=t.dialogsData.map((function(e){return l.a.createElement(je,{name:e.name,id:e.id})})),a=t.messagesData.map((function(e){return l.a.createElement(Ce,{message:e.message})})),r=(t.newMessageText,W(30)),o=Object(x.a)({form:"message"})((function(e){return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:e.handleSubmit},l.a.createElement("div",null,l.a.createElement(k.a,{validate:[H,r],name:"newMessageText",component:N,placeholder:"enter your message"})),l.a.createElement("div",null,l.a.createElement("button",null,"Add message"))))}));return e.isAuth?l.a.createElement("div",{className:Oe.a.dialogs},l.a.createElement("div",{className:Oe.a.dialogsItems},n),l.a.createElement("div",{className:Oe.a.messages},a),l.a.createElement("div",null,l.a.createElement(o,{onSubmit:function(t){e.onMessageAddClick(t.newMessageText)}}))):l.a.createElement(de.a,{to:"/login"})},Ne=function(e){return{isAuth:e.auth.isAuth}},Te=Object(ge.d)(Object(me.b)((function(e){return{messagesPage:e.messagesPage}}),(function(e){return{onMessageAddClick:function(t){e(function(e){return{type:"4_ADD_MESSAGE",newMessageText:e}}(t))}}})),(function(e){var t=function(t){function n(){return Object(a.a)(this,n),Object(o.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(c.a)(n,t),Object(r.a)(n,[{key:"render",value:function(){return this.props.isAuth?l.a.createElement(e,this.props):l.a.createElement(de.a,{to:"/login"})}}]),n}(l.a.Component);return Object(me.b)(Ne)(t)}))(ke),Ie=(n(289),function(){return l.a.createElement("div",null,"News")}),xe=(n(290),function(){return l.a.createElement("div",null,"Music")}),Ae=(n(291),function(){return l.a.createElement("div",null,"Settings")}),Ue=n(68),De=n(72),Me=n.n(De),Le=n(136),Fe=n.n(Le),Re=function(e){for(var t=e.totalItemsCount,n=e.pageSize,a=e.currentPage,r=e.onPageChanged,o=e.portionSize,s=void 0===o?10:o,c=Math.ceil(t/n),u=[],m=1;m<=c;m++)u.push(m);var p=Math.ceil(c/s),f=Object(i.useState)(1),d=Object(E.a)(f,2),g=d[0],h=d[1],v=(g-1)*s+1,b=g*s;return l.a.createElement("div",{className:Me.a.pagination},g>1&&l.a.createElement("button",{onClick:function(){h(g-1)}},"PREV"),u.filter((function(e){return e>=v&&e<=b})).map((function(e){return l.a.createElement("span",{className:Fe()(Object(Ue.a)({},Me.a.selectedPage,a===e),Me.a.pageNumber),key:e,onClick:function(t){r(e)}},e," ")})),p>g&&l.a.createElement("button",{onClick:function(){h(g+1)}},"Next"))},Ge=n(73),ze=n.n(Ge),He=function(e){var t=e.user,n=e.followingInProgress,a=e.unfollow,r=e.follow;return l.a.createElement("div",null,l.a.createElement("span",null,l.a.createElement("div",null,l.a.createElement(d.b,{to:"Profile/"+t.id},l.a.createElement("img",{src:null!==t.photos.small?t.photos.small:j.a,className:ze.a.userPhoto}))),l.a.createElement("div",null,t.followed?l.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),className:ze.a.button,onClick:function(){a(t.id)}},"Unfollow"," "):l.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)}},"Follow"))),l.a.createElement("div",{className:ze.a.nameStatus},l.a.createElement("div",null," ",t.name),l.a.createElement("div",null,t.status)))},We=function(e){var t=e.totalUsersCount,n=e.pageSize,a=e.currentPage,r=e.onPageChanged,o=e.users,s=Object(w.a)(e,["totalUsersCount","pageSize","currentPage","onPageChanged","users"]);return l.a.createElement("div",null,l.a.createElement(Re,{totalItemsCount:t,pageSize:n,currentPage:a,onPageChanged:r}),l.a.createElement("div",null,o.map((function(e){return l.a.createElement(He,{key:e.id,followingInProgress:s.followingInProgress,user:e,follow:s.follow,unfollow:s.unfollow})}))))},Ve={users:[],pageSize:10,totalUsersCount:20,currentPage:1,isFetching:!0,followingInProgress:[]},Be=function(e){return{type:"1_FOLLOW",userID:e}},Je=function(e){return{type:"1_UNFOLLOW",userID:e}},Ze=function(e){return{type:"1_SET_CURRENT_PAGE",currentPage:e}},Xe=function(e){return{type:"1_TOGGLE_IS_FETCHING",isFetching:e}},Ke=function(e,t){return{type:"1_TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"1_FOLLOW":return Object(K.a)({},e,{users:e.users.map((function(e){return e.id===t.userID?Object(K.a)({},e,{followed:!0}):e}))});case"1_UNFOLLOW":return Object(K.a)({},e,{users:e.users.map((function(e){return e.id===t.userID?Object(K.a)({},e,{followed:!1}):e}))});case"1_SET_USERS":return Object(K.a)({},e,{users:t.users});case"1_SET_CURRENT_PAGE":return Object(K.a)({},e,{currentPage:t.currentPage});case"1_SET_TOTAL_USERS_COUNT":return Object(K.a)({},e,{totalUsersCount:t.count});case"1_TOGGLE_IS_FETCHING":return Object(K.a)({},e,{isFetching:t.isFetching});case"1_TOGGLE_IS_FOLLOWING_PROGRESS":return Object(K.a)({},e,{followingInProgress:t.isFetching?[].concat(Object(X.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},qe=function(e){return e.usersPage.users},Qe=function(e){return e.usersPage.pageSize},$e=function(e){return e.usersPage.totalUsersCount},et=function(e){return e.usersPage.currentPage},tt=function(e){return e.usersPage.isFetching},nt=function(e){return e.usersPage.followingInProgress},at=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(n=Object(o.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).onPageChanged=function(e){var t=n.props.pageSize;n.props.getUsers(e,t)},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.getUsers(t,n)}},{key:"render",value:function(){return l.a.createElement("div",null,this.props.isFetching?l.a.createElement(O,null):null,l.a.createElement(We,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,users:this.props.users,onPageChanged:this.onPageChanged,currentPage:this.props.currentPage,follow:this.props.follow,unfollow:this.props.unfollow,followingInProgress:this.props.followingInProgress}))}}]),t}(l.a.Component),rt=Object(me.b)((function(e){return{users:qe(e),pageSize:Qe(e),totalUsersCount:$e(e),currentPage:et(e),isFetching:tt(e),followingInProgress:nt(e)}}),{follow:function(e){return function(){var t=Object(Z.a)(J.a.mark((function t(n){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ke(!0,e)),t.next=3,$(e);case 3:0===t.sent.data.resultCode&&n(Be(e)),n(Ke(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(Z.a)(J.a.mark((function t(n){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ke(!0,e)),t.next=3,Q(e);case 3:0===t.sent.data.resultCode&&n(Je(e)),n(Ke(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:Ze,acceptFollow:Be,acceptUnfollow:Je,getUsers:function(e,t){return function(){var n=Object(Z.a)(J.a.mark((function n(a){var r;return J.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(Xe(!0)),a(Ze(e)),n.next=4,q(e,t);case 4:r=n.sent,a(Xe(!1)),a({type:"1_SET_USERS",users:r.items}),a({type:"1_SET_TOTAL_USERS_COUNT",count:r.totalCount});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})(at),ot=n(95),st=n.n(ot),ct=function(e){return l.a.createElement("header",{className:st.a.header},l.a.createElement("img",{src:"https://winaero.com/blog/wp-content/uploads/2017/07/Paint-3D-icon-logo.png"}),l.a.createElement("div",{className:st.a.loginBlock},e.isAuth?l.a.createElement("div",null," ",e.login,"  ",l.a.createElement("button",{onClick:e.logout},"Log out")):l.a.createElement(d.b,{to:"/login"},"Login")))},it={id:null,email:null,login:null,isAuth:!1,captchaUrl:null},lt=function(e,t,n,a){return{type:"2_SET_USERS_DATA",payload:{id:e,email:t,login:n,isAuth:a}}},ut=function(e){return{type:"2_GET_CAPTCHA_URL_SUCCESS",payload:{captchaUrl:e}}},mt=function(){return function(){var e=Object(Z.a)(J.a.mark((function e(t){var n,a,r,o,s;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,r=a.id,o=a.email,s=a.login,t(lt(r,o,s,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},pt=function(){return function(){var e=Object(Z.a)(J.a.mark((function e(t){var n,a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:n=e.sent,a=n.data.url,t(ut(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"2_SET_USERS_DATA":case"2_GET_CAPTCHA_URL_SUCCESS":return Object(K.a)({},e,{},t.payload);default:return e}},dt=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement(ct,this.props)}}]),t}(l.a.Component),gt=Object(me.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(Z.a)(J.a.mark((function e(t){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re();case 2:0===e.sent.data.resultCode&&t(lt(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(dt),Et=Object(x.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,a=e.captchaUrl;return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:t},l.a.createElement("div",null,l.a.createElement(k.a,{validate:[H],placeholder:"email",name:"email",component:T})),l.a.createElement("div",null,l.a.createElement(k.a,{validate:[H],type:"password",placeholder:"password",name:"password",component:T})),l.a.createElement("div",null,l.a.createElement(k.a,{type:"checkbox",name:"RememberMe",component:T}),"remember me"),a&&l.a.createElement("img",{src:a}),a&&I("Symbols from image","captcha",[H],T,{}),n&&l.a.createElement("div",{className:C.a.formSummaryError}," ",n),l.a.createElement("div",null,l.a.createElement("button",null,"Login"))))})),ht=Object(me.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,n,a){return function(){var r=Object(Z.a)(J.a.mark((function r(o){var s,c;return J.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ae(e,t,n,a);case 2:0===(s=r.sent).data.resultCode?o(mt()):(10===s.data.resultCode&&o(pt()),c=s.data.messages.length>0?s.data.messages[0]:"Error",o(Object(se.a)("login",{_error:c})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?l.a.createElement(de.a,{to:"/profile"}):l.a.createElement("div",null,l.a.createElement("h1",null,"Login"),l.a.createElement(Et,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl}))})),vt={initialized:!1},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"5_SET_INITIALIZED":return Object(K.a)({},e,{initialized:!0});default:return e}},_t=n(137),Ot=n(128),Pt=Object(ge.c)({profilePage:ue,messagesPage:be,usersPage:Ye,auth:ft,form:Ot.a,app:bt}),St=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ge.d,jt=Object(ge.e)(Pt,St(Object(ge.a)(_t.a)));window._store_=jt;var wt=jt,yt=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?l.a.createElement("div",{className:"app-wrapper"},l.a.createElement(gt,null),l.a.createElement(g,null),l.a.createElement("div",{className:"app-wrapper-content"},l.a.createElement(de.d,null,l.a.createElement(de.b,{exact:!0,path:"/",render:function(){return l.a.createElement(de.a,{to:"/profile"})}}),l.a.createElement(de.b,{path:"/profile/:userId?",render:function(){return l.a.createElement(he,null)}}),l.a.createElement(de.b,{path:"/dialogs",render:function(){return l.a.createElement(Te,null)}}),l.a.createElement(de.b,{path:"/news",render:function(){return l.a.createElement(Ie,null)}}),l.a.createElement(de.b,{path:"/music",render:function(){return l.a.createElement(xe,null)}}),l.a.createElement(de.b,{path:"/users",render:function(){return l.a.createElement(rt,null)}}),l.a.createElement(de.b,{path:"/settings",render:function(){return l.a.createElement(Ae,null)}}),l.a.createElement(de.b,{path:"/login",render:function(){return l.a.createElement(ht,null)}}),l.a.createElement(de.b,{path:"*",render:function(){return l.a.createElement("div",null,"404 NOT FOUND")}})))):l.a.createElement(O,null)}}]),t}(l.a.Component),Ct=Object(ge.d)(de.g,Object(me.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){e(mt()).then((function(){e({type:"5_SET_INITIALIZED"})}))}}}))(yt),kt=function(e){return l.a.createElement(d.a,null,l.a.createElement(me.a,{store:wt},l.a.createElement(Ct,null)))},Nt=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={hasError:!1},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?l.a.createElement("h1",null,"ERROR. Something went wrong."):this.props.children}}]),t}(i.Component);m.a.render(l.a.createElement(Nt,null,l.a.createElement(kt,null)),document.getElementById("root"))},30:function(e,t,n){e.exports={content:"ProfileInfo_content__2Io2G",item:"ProfileInfo_item__2oxPX",description:"ProfileInfo_description__2yWda",profileImage:"ProfileInfo_profileImage__V_r63",status:"ProfileInfo_status__2G3BZ",contact:"ProfileInfo_contact__1N3gp",button:"ProfileInfo_button__UKZmL"}},65:function(e,t,n){e.exports=n.p+"static/media/profile.cb1043ec.jpg"},70:function(e,t,n){e.exports={myPosts:"MyPosts_myPosts__14O2X",item:"MyPosts_item__R6Jlo",postArea:"MyPosts_postArea__msCs2",posts:"MyPosts_posts__3tZ1c"}},71:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2xRSA",dialogsItems:"Dialogs_dialogsItems__2sNe2",messages:"Dialogs_messages__1w_Up",dialog:"Dialogs_dialog__lk_cw"}},72:function(e,t,n){e.exports={pagination:"Pagination_pagination__2YUrh",pageNumber:"Pagination_pageNumber__3OfQM",selectedPage:"Pagination_selectedPage__sPSVP",image:"Pagination_image__KZlTi"}},73:function(e,t,n){e.exports={userPhoto:"users_userPhoto__1_En6",selectedPage:"users_selectedPage__1mnwI",pointer:"users_pointer__3-WUj",image:"users_image__1aljZ",nameStatus:"users_nameStatus__U-DjC"}},94:function(e,t,n){e.exports={item:"Post_item__ihtu9",span:"Post_span__kaYWW"}},95:function(e,t,n){e.exports={header:"Header_header__1VCKf",loginBlock:"Header_loginBlock__6mma5"}}},[[163,1,2]]]);
//# sourceMappingURL=main.2ca46368.chunk.js.map